<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>sas</title>
<style>
  :root{
    --bg:#050818;
    --bg2:#070c21;
    --panel:#0b1024;
    --ink:#eef2ff;
    --muted:#9aa3c7;
    --accent:#7b8cff;
    --accent2:#22c55e;
    --danger:#f97373;
    --border:#1f2937;
    --chip:#111827;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{
    background:radial-gradient(900px 600px at 10% 0%,#1d2144 0,#050816 60%,#020312 100%);
    color:var(--ink);
    font:15px/1.5 system-ui,-apple-system,Segoe UI,Roboto;
  }
  body{
    min-height:100vh;
    display:flex;
    justify-content:center;
  }
  .page{
    width:100%;
    max-width:1200px;
    padding:16px;
  }

  header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    margin-bottom:14px;
  }
  .brand{
    display:flex;
    align-items:center;
    gap:10px;
  }
  .brand-icon{
    width:32px;height:32px;border-radius:999px;
    background:conic-gradient(from 200deg,#22c1c3,#4b6bff,#ff3cac,#22c1c3);
    display:grid;place-items:center;
    box-shadow:0 0 18px rgba(120,113,255,.6);
  }
  .brand-icon span{font-size:14px}
  .brand-text{display:flex;flex-direction:column}
  .brand-title{font-weight:700;font-size:18px}
  .brand-sub{font-size:12px;color:var(--muted)}

  .nav-chips{
    display:flex;
    gap:8px;
    flex-wrap:wrap;
    justify-content:flex-end;
  }
  .chip-btn{
    border-radius:999px;
    padding:6px 12px;
    border:1px solid rgba(148,163,184,.4);
    background:rgba(15,23,42,.85);
    color:var(--muted);
    font-size:12px;
    cursor:pointer;
  }

  .hero{
    background:radial-gradient(900px 500px at 0% 0%,rgba(129,140,248,.35),transparent 60%),
               radial-gradient(600px 400px at 100% 0%,rgba(45,212,191,.28),transparent 60%),
               #050816;
    border-radius:22px;
    border:1px solid rgba(148,163,184,.35);
    padding:18px;
    display:grid;
    grid-template-columns:minmax(0,1.5fr) minmax(0,1.2fr);
    gap:16px;
    margin-bottom:18px;
    box-shadow:0 20px 55px rgba(15,23,42,.8);
  }
  .hero-kicker{
    display:inline-flex;
    align-items:center;
    gap:8px;
    background:rgba(15,23,42,.95);
    border-radius:999px;
    padding:5px 10px;
    border:1px solid rgba(55,65,81,.8);
    font-size:11px;
    color:var(--muted);
    margin-bottom:10px;
  }
  .hero-kicker span:last-child{color:#a5b4fc;font-weight:600}
  .hero-main-title{
    font-size:22px;font-weight:800;letter-spacing:.02em;margin-bottom:6px;
  }
  .hero-text{
    font-size:13px;color:#cbd5ff;margin-bottom:10px;
  }
  .hero-badges{
    display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px;
  }
  .pill{
    border-radius:999px;
    background:rgba(15,23,42,.9);
    border:1px solid rgba(148,163,184,.5);
    padding:4px 9px;
    font-size:11px;
    color:var(--muted);
  }
  .hero-buttons{display:flex;flex-wrap:wrap;gap:8px}
  .btn-primary{
    border:none;
    border-radius:999px;
    padding:8px 16px;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
    background:linear-gradient(135deg,#22c55e,#16a34a);
    color:#022c22;
    box-shadow:0 12px 30px rgba(34,197,94,.45);
  }
  .btn-ghost{
    border-radius:999px;
    border:1px solid rgba(148,163,184,.6);
    padding:8px 13px;
    background:rgba(15,23,42,.9);
    color:var(--muted);
    font-size:12px;
    cursor:pointer;
  }

  .hero-right{
    border-radius:18px;
    background:
      radial-gradient(circle at 10% 0%,rgba(244,244,255,.5),transparent 40%),
      radial-gradient(circle at 90% 100%,rgba(59,130,246,.45),transparent 50%),
      linear-gradient(135deg,#020617,#020617 30%,#0b1120);
    position:relative;
    overflow:hidden;
    min-height:150px;
    padding:16px;
  }
  .hero-tag{
    position:absolute;top:12px;left:14px;
    font-size:11px;color:#e5e7eb;opacity:.85;
  }
  .hero-graphic{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}
  .hero-bar{
    width:140px;height:140px;border-radius:32px;
    background:conic-gradient(from 210deg,#22c1c3,#4b6bff,#ff3cac,#22c1c3);
    filter:blur(1px);opacity:.9;
  }
  .hero-overlay{
    position:absolute;inset:0;
    background:radial-gradient(circle at 30% 0%,rgba(15,23,42,.0),rgba(15,23,42,.7) 58%);
  }

  .toolbar{
    display:flex;
    align-items:center;
    justify-content:space-between;
    flex-wrap:wrap;
    gap:12px;
    margin-bottom:14px;
  }
  .search-group{position:relative;flex:1 1 260px;max-width:420px}
  .search-input{
    width:100%;
    padding:8px 32px 8px 32px;
    border-radius:999px;
    border:1px solid rgba(75,85,99,.9);
    background:rgba(15,23,42,.9);
    color:var(--ink);
    font-size:13px;
  }
  .search-input::placeholder{color:rgba(148,163,184,.8)}
  .search-icon{
    position:absolute;left:10px;top:50%;transform:translateY(-50%);
    font-size:15px;opacity:.7;
  }
  .search-help{font-size:11px;color:var(--muted);margin-top:3px}

  .filter-chips{display:flex;flex-wrap:wrap;gap:6px}
  .filter-chip{
    border-radius:999px;
    border:1px solid rgba(75,85,99,.9);
    padding:4px 10px;
    font-size:11px;
    color:var(--muted);
    cursor:pointer;
    background:rgba(15,23,42,.9);
  }
  .filter-chip.active{
    background:rgba(59,130,246,.15);
    border-color:#60a5fa;
    color:#e5e7eb;
  }

  h2.section-title{
    font-size:16px;font-weight:700;margin:10px 0 6px;letter-spacing:.08em;
  }

  .grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
    gap:14px;
    margin-top:6px;
    margin-bottom:26px;
  }

  .card{
    background:linear-gradient(135deg,#020617,#020617 50%,#020920);
    border-radius:18px;
    border:1px solid rgba(30,64,175,.7);
    overflow:hidden;
    display:flex;
    flex-direction:column;
    box-shadow:0 12px 35px rgba(15,23,42,.85);
  }
  .thumb{
    width:100%;
    aspect-ratio:16/9;
    object-fit:cover;
    background:radial-gradient(circle at 0 0,#1d4ed8,transparent 60%),
               radial-gradient(circle at 100% 100%,#22c55e,transparent 60%),
               #020617;
  }
  .thumb-placeholder{
    display:grid;place-items:center;
    font-size:12px;color:#a5b4fc;
  }
  .meta{padding:10px 12px 8px}
  .title{font-size:14px;font-weight:700}
  .desc{font-size:12px;color:var(--muted);margin-top:3px;margin-bottom:8px}
  .tag-row{display:flex;flex-wrap:wrap;gap:4px;margin-bottom:8px}
  .tag-pill{
    font-size:10px;
    padding:3px 7px;
    border-radius:999px;
    background:rgba(15,23,42,.9);
    color:#a5b4fc;
    border:1px solid rgba(79,70,229,.6);
  }
  .play-btn{
    margin:0 10px 10px;
    padding:7px 10px;
    border-radius:999px;
    border:none;
    background:linear-gradient(135deg,#22c55e,#16a34a);
    color:#022c22;
    font-size:12px;
    font-weight:600;
    cursor:pointer;
  }

  footer{font-size:11px;color:var(--muted);margin-bottom:4px}

  .error-card{
    max-width:360px;
    min-width:260px;
    background:#1b0b0e;
    border-radius:16px;
    border:1px solid rgba(248,113,113,.7);
    padding:14px;
    color:#fecaca;
    font-size:13px;
    line-height:1.5;
    white-space:normal;
    word-break:keep-all;
  }
  .error-card strong{color:#fee2e2}
  .error-card small{font-size:11px;color:#fca5a5}

  @media (max-width:840px){
    .hero{grid-template-columns:1fr}
    .hero-right{order:-1;min-height:160px}
  }
</style>
</head>
<body>
<div class="page">
  <header>
    <div class="brand">
      <div class="brand-icon"><span>ğŸ®</span></div>
      <div class="brand-text">
        <div class="brand-title">sas</div>
        <div class="brand-sub">HTML5 ë¯¸ë‹ˆ ê²Œì„ ì»¬ë ‰ì…˜</div>
      </div>
    </div>
    <div class="nav-chips">
      <button class="chip-btn">TOP ê²Œì„</button>
      <button class="chip-btn">í¼ì¦</button>
      <button class="chip-btn">ë³´ë“œê²Œì„</button>
      <button class="chip-btn">ë‘ë‡Œìš´ë™</button>
      <button class="chip-btn">ë°˜ì‘ì†ë„</button>
    </div>
  </header>

  <section class="hero">
    <div>
      <div class="hero-kicker">
        <span>NEW</span><span>ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ í”Œë ˆì´</span>
      </div>
      <h2 class="hero-main-title">ë¬´ë£Œ HTML5 ê²Œì„ìœ¼ë¡œ ì‰¬ì–´ê°€ê¸° ğŸ†</h2>
      <p class="hero-text">
        í„°ì¹˜/í‚¤ë³´ë“œë§Œ ìˆìœ¼ë©´ ë°”ë¡œ ì¦ê¸¸ ìˆ˜ ìˆëŠ” ì‘ì€ ê²Œì„ë“¤ì„ ëª¨ì•„ ë‘ì—ˆì–´ìš”.
        ì•„ì´ë“¤ì´ë‚˜ í•™ìƒë“¤ê³¼ í•¨ê»˜ ê°€ë³ê²Œ í”Œë ˆì´í•´ ë³´ì„¸ìš”.
      </p>
      <div class="hero-badges">
        <span class="pill">í¼ì¦</span>
        <span class="pill">ë³´ë“œê²Œì„</span>
        <span class="pill">ë‘ë‡Œìš´ë™</span>
        <span class="pill">ë°˜ì‘ì†ë„</span>
      </div>
      <div class="hero-buttons">
        <button class="btn-primary" id="btn-scroll-grid">ì§€ê¸ˆ ë°”ë¡œ ë‘˜ëŸ¬ë³´ê¸°</button>
        <button class="btn-ghost">ì§ì ‘ ë§Œë“  ë¯¸ë‹ˆê²Œì„</button>
      </div>
    </div>
    <div class="hero-right">
      <div class="hero-tag">Enjoy my games!</div>
      <div class="hero-graphic"><div class="hero-bar"></div></div>
      <div class="hero-overlay"></div>
    </div>
  </section>

  <section class="toolbar">
    <div class="search-group">
      <span class="search-icon">ğŸ”</span>
      <input id="q" class="search-input" type="search" placeholder="ê²Œì„ ê²€ìƒ‰â€¦ (ì´ë¦„, íƒœê·¸)">
      <div class="search-help" id="game-count-text"></div>
    </div>
    <div class="filter-chips" id="tag-filters">
      <button class="filter-chip active" data-tag="all">ì „ì²´</button>
      <button class="filter-chip" data-tag="ë¸Œë ˆì´í¬ì•„ì›ƒ">ë¸Œë ˆì´í¬ì•„ì›ƒ</button>
      <button class="filter-chip" data-tag="ë³´ë“œ">ë³´ë“œ</button>
      <button class="filter-chip" data-tag="í¼ì¦">í¼ì¦</button>
      <button class="filter-chip" data-tag="ìŠˆíŒ…">ìŠˆíŒ…</button>
      <button class="filter-chip" data-tag="AI">AI</button>
    </div>
  </section>
<h2 class="section-title">ğŸ† HALL OF FAME (í…ŒìŠ¤íŠ¸ìš©)</h2>
  <div style="background: rgba(15,23,42,.9); border: 1px solid rgba(30,64,175,.7); border-radius: 18px; padding: 16px; margin-bottom: 20px;">
    <ul id="ranking-list" style="list-style: none; color: #cbd5ff; font-size: 14px; line-height: 1.8;">
      <li>ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</li>
    </ul>
    
    <div style="margin-top: 10px; border-top: 1px solid rgba(148,163,184,.3); padding-top: 10px;">
      <input type="text" id="test-name" placeholder="ë‹‰ë„¤ì„" style="background:#050818; border:1px solid #4b5563; color:white; padding:4px;">
      <input type="number" id="test-score" placeholder="ì ìˆ˜" style="background:#050818; border:1px solid #4b5563; color:white; padding:4px; width:80px;">
      <button onclick="window.manualSave()" class="chip-btn" style="background:#22c55e; color:#022c22; border:none; font-weight:bold;">ì ìˆ˜ ê¸°ë¡í•´ë³´ê¸°</button>
    </div>
  </div>
  <h2 class="section-title">PLAY FREE HTML5 GAMES!</h2>
  <div id="grid" class="grid" aria-live="polite"></div>

  <footer>Â© 2024 sas â€” HTML5 ë°ëª¨ ëª¨ìŒ</footer>
</div>

<script>
(async function(){
  const JSON_PATH = 'sas/games.json';   // â˜… sas/games.json ì‚¬ìš©

  const grid   = document.getElementById('grid');
  const q      = document.getElementById('q');
  const countText = document.getElementById('game-count-text');
  const filterBar = document.getElementById('tag-filters');
  const btnScroll = document.getElementById('btn-scroll-grid');

  let games = [];
  let currentTag = 'all';

  try{
    const res = await fetch(JSON_PATH, {cache:'no-store'});
    if(!res.ok){
      throw new Error('íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. HTTP Status: '+res.status);
    }
    games = await res.json();
    console.log('[sas] games.json loaded from', JSON_PATH);
  }catch(e){
    console.error(e);
    grid.innerHTML = `
      <div class="error-card">
        <strong>âš  ê²Œì„ ëª©ë¡ (<code>${JSON_PATH}</code>)ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</strong>
        <p style="margin-top:6px;">
          <code>index.html</code>ì´ ìˆëŠ” í´ë” ì•„ë˜ì˜
          <code>sas/games.json</code> ê²½ë¡œì— íŒŒì¼ì´ ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.
        </p>
        <small>(ì˜¤ë¥˜ ìƒì„¸: ${e.message || 'ë„¤íŠ¸ì›Œí¬ / CORS ì˜¤ë¥˜'})</small>
      </div>
    `;
    countText.textContent = '';
    return;
  }

  function buildCard(g){
    const thumbHtml = g.thumb
      ? `<img class="thumb" src="${g.thumb}" alt="">`
      : `<div class="thumb thumb-placeholder">No Thumbnail</div>`;
    const tagsHtml = (g.tags || []).map(t => `<span class="tag-pill">${t}</span>`).join('');
    return `
      <article class="card">
        ${thumbHtml}
        <div class="meta">
          <div class="title">${g.title}</div>
          <p class="desc">${g.desc || ''}</p>
          <div class="tag-row">${tagsHtml}</div>
        </div>
        <div style="padding-bottom:6px;">
          <button class="play-btn" onclick="window.open('${g.url}','_blank')">PLAY NOW!</button>
        </div>
      </article>
    `;
  }

  function applyFilter(text, tag){
    const t = text.trim().toLowerCase();
    return games.filter(g=>{
      if(tag !== 'all' && !(g.tags || []).includes(tag)) return false;
      if(!t) return true;
      const blob = (g.title+' '+(g.desc||'')+' '+(g.tags||[]).join(' ')).toLowerCase();
      return blob.includes(t);
    });
  }

  function render(){
    const list = applyFilter(q.value, currentTag);
    grid.innerHTML = list.length
      ? list.map(buildCard).join('')
      : `<div style="color:#9aa3c7;font-size:13px;">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>`;
    countText.textContent = `ì´ ${games.length}ê°œì˜ ê²Œì„ì´ ì¤€ë¹„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.`;
  }

  q.addEventListener('input', render);

  filterBar.addEventListener('click', e=>{
    const btn = e.target.closest('.filter-chip');
    if(!btn) return;
    [...filterBar.querySelectorAll('.filter-chip')]
      .forEach(b=>b.classList.toggle('active', b===btn));
    currentTag = btn.dataset.tag;
    render();
  });

  btnScroll.addEventListener('click', ()=>{
    grid.scrollIntoView({behavior:'smooth',block:'start'});
  });

  render();
})();
</script>
  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, query, orderBy, limit } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBc3aB342Yp0hjLLj4hw0xJ-s8hOU_OmMg",
  authDomain: "saskitchen-rank-96f61.firebaseapp.com",
  projectId: "saskitchen-rank-96f61",
  storageBucket: "saskitchen-rank-96f61.firebasestorage.app",
  messagingSenderId: "785643491182",
  appId: "1:785643491182:web:fc195dbaa79a6eee047b7f"
};

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // 1. ì ìˆ˜ ì €ì¥ í•¨ìˆ˜
  window.saveScore = async function(nickname, score) {
    try {
      await addDoc(collection(db, "leaderboard"), {
        name: nickname,
        score: Number(score),
        date: new Date().toISOString()
      });
      alert("âœ… ê¸°ë¡ ì €ì¥ ì™„ë£Œ!");
      loadRankings(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
    } catch (e) {
      console.error("Error:", e);
      alert("ì €ì¥ ì‹¤íŒ¨ ã… ã…  (ì½˜ì†” í™•ì¸)");
    }
  }

  // 2. ë­í‚¹ ë¶ˆëŸ¬ì˜¤ê¸° í•¨ìˆ˜
  async function loadRankings() {
    const list = document.getElementById("ranking-list");
    const q = query(collection(db, "leaderboard"), orderBy("score", "desc"), limit(5));
    
    try {
      const snapshot = await getDocs(q);
      list.innerHTML = ""; // ì´ˆê¸°í™”
      let rank = 1;
      snapshot.forEach((doc) => {
        const data = doc.data();
        const li = document.createElement("li");
        // 1ë“±ì€ íŠ¹ë³„í•˜ê²Œ ì´ëª¨ì§€ ë¶™ì´ê¸°
        const medal = rank === 1 ? "ğŸ¥‡" : rank === 2 ? "ğŸ¥ˆ" : rank === 3 ? "ğŸ¥‰" : `${rank}ìœ„`;
        li.innerHTML = `<span style="color:#7b8cff; font-weight:bold; margin-right:10px;">${medal}</span> ${data.name} <span style="float:right; color:#22c55e;">${data.score}ì </span>`;
        list.appendChild(li);
        rank++;
      });
      if(rank === 1) list.innerHTML = "<li>ì•„ì§ ë“±ë¡ëœ ë­í‚¹ì´ ì—†ì–´ìš”.</li>";
    } catch (e) {
      console.error(e);
      list.innerHTML = "<li>ë­í‚¹ ë¡œë“œ ì‹¤íŒ¨ (ì„¤ì •ê°’ í™•ì¸ í•„ìš”)</li>";
    }
  }
  
  // 3. í…ŒìŠ¤íŠ¸ìš© ìˆ˜ë™ ì €ì¥ í•¨ìˆ˜ (ë²„íŠ¼ í´ë¦­ ì‹œ ì‘ë™)
  window.manualSave = function() {
    const name = document.getElementById("test-name").value;
    const score = document.getElementById("test-score").value;
    if(name && score) {
        saveScore(name, score);
    } else {
        alert("ì´ë¦„ê³¼ ì ìˆ˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”");
    }
  }

  // í˜ì´ì§€ ì—´ë¦¬ë©´ ë­í‚¹ ë¡œë“œ
  loadRankings();
</script>
</body>
</html>




